<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1ì¸ìš© ëª¨ë…¸í´ë¦¬ ê²Œì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            max-width: 600px;
            width: 100%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 3px;
            padding: 20px;
            background: #f8f9fa;
            aspect-ratio: 1;
        }

        .cell {
            background: white;
            border: 2px solid #ddd;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 11px;
            text-align: center;
            padding: 5px;
            position: relative;
            min-height: 80px;
            border-radius: 8px;
        }

        .corner {
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            font-weight: bold;
            font-size: 10px;
        }

        .property {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .property:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .owned-player {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }

        .owned-computer {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
        }

        .player {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid white;
            z-index: 10;
            font-size: 12px;
            line-height: 16px;
            text-align: center;
            color: white;
            font-weight: bold;
        }

        .player-human {
            background: #4ecdc4;
            top: 5px;
            left: 5px;
        }

        .player-computer {
            background: #ff6b6b;
            bottom: 5px;
            right: 5px;
        }

        .info-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 20px;
            background: #f8f9fa;
        }

        .player-info {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .player-info h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .controls {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-buy {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            font-size: 14px;
            padding: 8px 16px;
        }

        .dice {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: white;
            border: 2px solid #333;
            border-radius: 8px;
            line-height: 36px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin: 0 5px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }

        .game-log {
            max-height: 150px;
            overflow-y: auto;
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 20px;
            font-size: 14px;
            line-height: 1.5;
            border: 1px solid #ddd;
        }

        .log-entry {
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .log-player {
            color: #4ecdc4;
            font-weight: bold;
        }

        .log-computer {
            color: #ff6b6b;
            font-weight: bold;
        }

        .property-name {
            font-size: 10px;
            margin-bottom: 2px;
        }

        .property-price {
            font-size: 8px;
            color: #666;
        }

        @media (max-width: 768px) {
            .cell {
                font-size: 9px;
                min-height: 60px;
                padding: 3px;
            }
            
            .player {
                width: 15px;
                height: 15px;
                font-size: 10px;
                line-height: 11px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>ğŸ¯ 1ì¸ìš© ëª¨ë…¸í´ë¦¬ ê²Œì„</h1>
            <p>ì»´í“¨í„°ì™€ ë¶€ë™ì‚° ì „ìŸì„ ë²Œì—¬ë³´ì„¸ìš”!</p>
        </div>

        <div class="game-board" id="gameBoard"></div>

        <div class="info-panel">
            <div class="player-info">
                <h3>ğŸ§‘ í”Œë ˆì´ì–´</h3>
                <p>ğŸ’° ëˆ: $<span id="playerMoney">1000</span></p>
                <p>ğŸ  ì†Œìœ  ë¶€ë™ì‚°: <span id="playerProperties">0</span></p>
                <p>ğŸ“ ìœ„ì¹˜: <span id="playerPosition">ì‹œì‘</span></p>
            </div>
            <div class="player-info">
                <h3>ğŸ¤– ì»´í“¨í„°</h3>
                <p>ğŸ’° ëˆ: $<span id="computerMoney">1000</span></p>
                <p>ğŸ  ì†Œìœ  ë¶€ë™ì‚°: <span id="computerProperties">0</span></p>
                <p>ğŸ“ ìœ„ì¹˜: <span id="computerPosition">ì‹œì‘</span></p>
            </div>
        </div>

        <div class="controls">
            <button class="btn" id="rollDice" onclick="rollDice()">ğŸ² ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸°</button>
            <button class="btn btn-buy" id="buyButton" onclick="buyCurrentProperty()" style="display: none;">ğŸ  ë¶€ë™ì‚° êµ¬ë§¤</button>
            <div style="margin: 15px 0;">
                <span class="dice" id="dice1">1</span>
                <span class="dice" id="dice2">1</span>
            </div>
            <p id="currentTurn">ë‹¹ì‹ ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤!</p>
        </div>

        <div class="game-log" id="gameLog">
            <div class="log-entry">ê²Œì„ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤! í”Œë ˆì´ì–´ì™€ ì»´í“¨í„° ëª¨ë‘ $1000ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.</div>
        </div>
    </div>

    <script>
        // ê²Œì„ ìƒíƒœ
        let gameState = {
            currentPlayer: 'player',
            playerMoney: 1000,
            computerMoney: 1000,
            playerPosition: 0,
            computerPosition: 0,
            playerProperties: [],
            computerProperties: [],
            gameEnded: false
        };

        // 5x5 ë³´ë“œ ë ˆì´ì•„ì›ƒ (16ì¹¸, í…Œë‘ë¦¬ë§Œ ì‚¬ìš©)
        const boardLayout = [
            // ìœ„ìª½ ì¤„ (0-4)
            { name: 'ì‹œì‘', type: 'corner', price: 0 },
            { name: 'ê°•ë‚¨', type: 'property', price: 100 },
            { name: 'í–‰ìš´ì¹´ë“œ', type: 'special', price: 0 },
            { name: 'í™ëŒ€', type: 'property', price: 120 },
            { name: 'ê°ì˜¥', type: 'corner', price: 0 },
            
            // ì˜¤ë¥¸ìª½ ì¤„ (5-7)
            { name: 'ëª…ë™', type: 'property', price: 150 },
            { name: 'ë™ëŒ€ë¬¸', type: 'property', price: 100 },
            { name: 'ì´íƒœì›', type: 'property', price: 130 },
            
            // ì•„ë˜ìª½ ì¤„ (8-11)
            { name: 'ë¬´ë£Œì£¼ì°¨', type: 'corner', price: 0 },
            { name: 'ì—¬ì˜ë„', type: 'property', price: 110 },
            { name: 'ê¸°íšŒì¹´ë“œ', type: 'special', price: 0 },
            { name: 'ê±´ëŒ€', type: 'property', price: 90 },
            
            // ì™¼ìª½ ì¤„ (12-15)
            { name: 'ì„¸ê¸ˆ', type: 'special', price: 0 },
            { name: 'ì‹ ì´Œ', type: 'property', price: 80 },
            { name: 'ì ì‹¤', type: 'property', price: 140 },
            { name: 'ì••êµ¬ì •', type: 'property', price: 160 }
        ];

        // 5x5 ê·¸ë¦¬ë“œì—ì„œ ë³´ë“œ ìœ„ì¹˜ ë§¤í•‘
        const positionToGrid = [
            0, 1, 2, 3, 4,      // ìœ„ìª½ (0-4)
            9, 14, 19,          // ì˜¤ë¥¸ìª½ (5-7)
            24, 23, 22, 21, 20, // ì•„ë˜ìª½ (8-12)
            15, 10, 5           // ì™¼ìª½ (13-15)
        ];

        // ë³´ë“œ ì´ˆê¸°í™”
        function initBoard() {
            const board = document.getElementById('gameBoard');
            board.innerHTML = '';
            
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.id = `cell-${i}`;
                
                // í…Œë‘ë¦¬ ì…€ë§Œ í™œì„±í™”
                const boardIndex = positionToGrid.indexOf(i);
                if (boardIndex !== -1) {
                    const cellData = boardLayout[boardIndex];
                    
                    if (cellData.type === 'corner') {
                        cell.classList.add('corner');
                        cell.innerHTML = `<div>${cellData.name}</div>`;
                    } else if (cellData.type === 'property') {
                        cell.classList.add('property');
                        cell.innerHTML = `
                            <div class="property-name">${cellData.name}</div>
                            <div class="property-price">$${cellData.price}</div>
                        `;
                    } else {
                        cell.innerHTML = `<div style="font-size: 9px;">${cellData.name}</div>`;
                    }
                } else {
                    // ì¤‘ì•™ ë¹ˆ ê³µê°„
                    cell.style.background = '#f8f9fa';
                    cell.style.border = 'none';
                }
                
                board.appendChild(cell);
            }
            
            updateBoard();
        }

        // ë³´ë“œ ì—…ë°ì´íŠ¸
        function updateBoard() {
            // ëª¨ë“  í”Œë ˆì´ì–´ ë§ˆì»¤ ì œê±°
            document.querySelectorAll('.player').forEach(p => p.remove());
            
            // í”Œë ˆì´ì–´ ìœ„ì¹˜ í‘œì‹œ
            const playerCell = document.getElementById(`cell-${positionToGrid[gameState.playerPosition]}`);
            const computerCell = document.getElementById(`cell-${positionToGrid[gameState.computerPosition]}`);
            
            if (playerCell) {
                const playerMarker = document.createElement('div');
                playerMarker.className = 'player player-human';
                playerMarker.textContent = 'P';
                playerCell.appendChild(playerMarker);
            }
            
            if (computerCell) {
                const computerMarker = document.createElement('div');
                computerMarker.className = 'player player-computer';
                computerMarker.textContent = 'C';
                computerCell.appendChild(computerMarker);
            }
            
            // ì†Œìœ ê¶Œ í‘œì‹œ ë° í´ë˜ìŠ¤ ì´ˆê¸°í™”
            document.querySelectorAll('.cell').forEach(cell => {
                cell.classList.remove('owned-player', 'owned-computer');
            });
            
            gameState.playerProperties.forEach(propIndex => {
                const cellIndex = positionToGrid[propIndex];
                if (cellIndex !== undefined) {
                    document.getElementById(`cell-${cellIndex}`).classList.add('owned-player');
                }
            });
            
            gameState.computerProperties.forEach(propIndex => {
                const cellIndex = positionToGrid[propIndex];
                if (cellIndex !== undefined) {
                    document.getElementById(`cell-${cellIndex}`).classList.add('owned-computer');
                }
            });
            
            // êµ¬ë§¤ ë²„íŠ¼ í‘œì‹œ/ìˆ¨ê¹€
            updateBuyButton();
        }

        // êµ¬ë§¤ ë²„íŠ¼ ì—…ë°ì´íŠ¸
        function updateBuyButton() {
            const buyButton = document.getElementById('buyButton');
            const currentCell = boardLayout[gameState.playerPosition];
            
            if (gameState.currentPlayer === 'player' && 
                currentCell.type === 'property' && 
                !gameState.playerProperties.includes(gameState.playerPosition) && 
                !gameState.computerProperties.includes(gameState.playerPosition) &&
                gameState.playerMoney >= currentCell.price) {
                buyButton.style.display = 'inline-block';
                buyButton.textContent = `ğŸ  ${currentCell.name} êµ¬ë§¤ ($${currentCell.price})`;
            } else {
                buyButton.style.display = 'none';
            }
        }

        // UI ì—…ë°ì´íŠ¸
        function updateUI() {
            document.getElementById('playerMoney').textContent = gameState.playerMoney;
            document.getElementById('computerMoney').textContent = gameState.computerMoney;
            document.getElementById('playerProperties').textContent = gameState.playerProperties.length;
            document.getElementById('computerProperties').textContent = gameState.computerProperties.length;
            document.getElementById('playerPosition').textContent = boardLayout[gameState.playerPosition].name;
            document.getElementById('computerPosition').textContent = boardLayout[gameState.computerPosition].name;
            document.getElementById('currentTurn').textContent = 
                gameState.currentPlayer === 'player' ? 'ë‹¹ì‹ ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤!' : 'ì»´í“¨í„°ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤...';
        }

        // ê²Œì„ ë¡œê·¸ ì¶”ê°€
        function addLog(message) {
            const log = document.getElementById('gameLog');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = message;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        // ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸°
        function rollDice() {
            if (gameState.gameEnded) return;
            
            const dice1 = Math.floor(Math.random() * 6) + 1;
            const dice2 = Math.floor(Math.random() * 6) + 1;
            const total = dice1 + dice2;
            
            document.getElementById('dice1').textContent = dice1;
            document.getElementById('dice2').textContent = dice2;
            
            if (gameState.currentPlayer === 'player') {
                const oldPosition = gameState.playerPosition;
                gameState.playerPosition = (gameState.playerPosition + total) % 16;
                addLog(`<span class="log-player">í”Œë ˆì´ì–´</span>ê°€ ${dice1} + ${dice2} = ${total}ì„ êµ´ë ¸ìŠµë‹ˆë‹¤. ${boardLayout[gameState.playerPosition].name}ì— ë„ì°©!`);
                
                // START ì§€ë‚˜ê°ˆ ë•Œ ëˆ ë°›ê¸°
                if (gameState.playerPosition < oldPosition) {
                    gameState.playerMoney += 100;
                    addLog(`<span class="log-player">í”Œë ˆì´ì–´</span>ê°€ ì‹œì‘ì ì„ ì§€ë‚˜ê°€ì„œ $100ì„ ë°›ì•˜ìŠµë‹ˆë‹¤!`);
                }
                
                handleLanding('player', gameState.playerPosition);
                gameState.currentPlayer = 'computer';
                
                setTimeout(() => {
                    if (!gameState.gameEnded) {
                        computerTurn();
                    }
                }, 1500);
            }
            
            updateUI();
            updateBoard();
        }

        // ì»´í“¨í„° í„´
        function computerTurn() {
            const dice1 = Math.floor(Math.random() * 6) + 1;
            const dice2 = Math.floor(Math.random() * 6) + 1;
            const total = dice1 + dice2;
            
            document.getElementById('dice1').textContent = dice1;
            document.getElementById('dice2').textContent = dice2;
            
            const oldPosition = gameState.computerPosition;
            gameState.computerPosition = (gameState.computerPosition + total) % 16;
            addLog(`<span class="log-computer">ì»´í“¨í„°</span>ê°€ ${dice1} + ${dice2} = ${total}ì„ êµ´ë ¸ìŠµë‹ˆë‹¤. ${boardLayout[gameState.computerPosition].name}ì— ë„ì°©!`);
            
            // START ì§€ë‚˜ê°ˆ ë•Œ ëˆ ë°›ê¸°
            if (gameState.computerPosition < oldPosition) {
                gameState.computerMoney += 100;
                addLog(`<span class="log-computer">ì»´í“¨í„°</span>ê°€ ì‹œì‘ì ì„ ì§€ë‚˜ê°€ì„œ $100ì„ ë°›ì•˜ìŠµë‹ˆë‹¤!`);
            }
            
            handleLanding('computer', gameState.computerPosition);
            gameState.currentPlayer = 'player';
            
            updateUI();
            updateBoard();
        }

        // ì°©ì§€ ì²˜ë¦¬
        function handleLanding(player, position) {
            const cellData = boardLayout[position];
            
            if (cellData.type === 'property') {
                if (player === 'computer') {
                    // ì»´í“¨í„° ìë™ êµ¬ë§¤ ë¡œì§
                    if (gameState.computerMoney >= cellData.price && 
                        !gameState.playerProperties.includes(position) && 
                        !gameState.computerProperties.includes(position) &&
                        Math.random() > 0.4) {
                        gameState.computerMoney -= cellData.price;
                        gameState.computerProperties.push(position);
                        addLog(`<span class="log-computer">ì»´í“¨í„°</span>ê°€ ${cellData.name}ì„(ë¥¼) $${cellData.price}ì— êµ¬ë§¤í–ˆìŠµë‹ˆë‹¤!`);
                    }
                }
                
                // ì„ëŒ€ë£Œ ê³„ì‚°
                if (player === 'player' && gameState.computerProperties.includes(position)) {
                    const rent = Math.floor(cellData.price * 0.15);
                    gameState.playerMoney -= rent;
                    gameState.computerMoney += rent;
                    addLog(`<span class="log-player">í”Œë ˆì´ì–´</span>ê°€ ${cellData.name}ì˜ ì„ëŒ€ë£Œ $${rent}ì„ ì§€ë¶ˆí–ˆìŠµë‹ˆë‹¤.`);
                } else if (player === 'computer' && gameState.playerProperties.includes(position)) {
                    const rent = Math.floor(cellData.price * 0.15);
                    gameState.computerMoney -= rent;
                    gameState.playerMoney += rent;
                    addLog(`<span class="log-computer">ì»´í“¨í„°</span>ê°€ ${cellData.name}ì˜ ì„ëŒ€ë£Œ $${rent}ì„ ì§€ë¶ˆí–ˆìŠµë‹ˆë‹¤.`);
                }
            } else if (cellData.type === 'special') {
                if (cellData.name === 'ì„¸ê¸ˆ') {
                    if (player === 'player') {
                        gameState.playerMoney -= 50;
                        addLog(`<span class="log-player">í”Œë ˆì´ì–´</span>ê°€ ì„¸ê¸ˆ $50ì„ ì§€ë¶ˆí–ˆìŠµë‹ˆë‹¤.`);
                    } else {
                        gameState.computerMoney -= 50;
                        addLog(`<span class="log-computer">ì»´í“¨í„°</span>ê°€ ì„¸ê¸ˆ $50ì„ ì§€ë¶ˆí–ˆìŠµë‹ˆë‹¤.`);
                    }
                } else if (cellData.name.includes('ì¹´ë“œ')) {
                    const bonus = Math.floor(Math.random() * 100) + 50;
                    if (player === 'player') {
                        gameState.playerMoney += bonus;
                        addLog(`<span class="log-player">í”Œë ˆì´ì–´</span>ê°€ ${cellData.name}ì—ì„œ $${bonus}ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤!`);
                    } else {
                        gameState.computerMoney += bonus;
                        addLog(`<span class="log-computer">ì»´í“¨í„°</span>ê°€ ${cellData.name}ì—ì„œ $${bonus}ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤!`);
                    }
                }
            }
            
            checkGameEnd();
        }

        // í˜„ì¬ ë¶€ë™ì‚° êµ¬ë§¤
        function buyCurrentProperty() {
            const currentCell = boardLayout[gameState.playerPosition];
            if (currentCell.type !== 'property') return;
            
            if (gameState.playerMoney >= currentCell.price) {
                gameState.playerMoney -= currentCell.price;
                gameState.playerProperties.push(gameState.playerPosition);
                addLog(`<span class="log-player">í”Œë ˆì´ì–´</span>ê°€ ${currentCell.name}ì„(ë¥¼) $${currentCell.price}ì— êµ¬ë§¤í–ˆìŠµë‹ˆë‹¤!`);
                updateUI();
                updateBoard();
            }
        }

        // ê²Œì„ ì¢…ë£Œ í™•ì¸
        function checkGameEnd() {
            if (gameState.playerMoney < 0) {
                addLog('ğŸ’¸ ê²Œì„ ì¢…ë£Œ! ëˆì´ ë¶€ì¡±í•˜ì—¬ íŒŒì‚°í–ˆìŠµë‹ˆë‹¤. ì»´í“¨í„° ìŠ¹ë¦¬!');
                gameState.gameEnded = true;
                document.getElementById('rollDice').disabled = true;
            } else if (gameState.computerMoney < 0) {
                addLog('ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ì»´í“¨í„°ê°€ íŒŒì‚°í–ˆìŠµë‹ˆë‹¤. í”Œë ˆì´ì–´ ìŠ¹ë¦¬!');
                gameState.gameEnded = true;
                document.getElementById('rollDice').disabled = true;
            } else if (gameState.playerProperties.length >= 6) {
                addLog('ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! 6ê°œ ì´ìƒì˜ ë¶€ë™ì‚°ì„ ì†Œìœ í•˜ì—¬ ìŠ¹ë¦¬í–ˆìŠµë‹ˆë‹¤!');
                gameState.gameEnded = true;
                document.getElementById('rollDice').disabled = true;
            } else if (gameState.computerProperties.length >= 6) {
                addLog('ğŸ’¸ ê²Œì„ ì¢…ë£Œ! ì»´í“¨í„°ê°€ 6ê°œ ì´ìƒì˜ ë¶€ë™ì‚°ì„ ì†Œìœ í–ˆìŠµë‹ˆë‹¤. ì»´í“¨í„° ìŠ¹ë¦¬!');
                gameState.gameEnded = true;
                document.getElementById('rollDice').disabled = true;
            }
        }

        // ê²Œì„ ì´ˆê¸°í™”
        initBoard();
        updateUI();
    </script>
</body>
</html>